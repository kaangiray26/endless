const extractor=()=>({get_posts:async function(page=1,request=null,args=null){let posts=[],elems=[];if(1==page){let dom=await fetch("https://darknetdiaries.com/episode/").then((res=>res.text())).then((str=>(new window.DOMParser).parseFromString(str,"text/html"))).catch((err=>null));return dom?(elems.push(...dom.querySelectorAll(".post")),posts=elems.map((post=>({title:post.querySelector(".post__title").textContent,author:"Darknet Diaries",url:"https://darknetdiaries.com"+post.querySelector(".post__title>a").pathname,id:post.querySelector(".post__title>a").pathname.split("/")[2],dt:null,points:0,image:"https://darknetdiaries.com"+post.querySelector(".post__image").style.backgroundImage.slice(5,-2),page:"/discover/darknet-diaries/"+post.querySelector(".post__title>a").pathname.split("/")[2]}))),posts):posts}let dom=await fetch(`https://darknetdiaries.com/episode/page${page}/`).then((res=>res.text())).then((str=>(new window.DOMParser).parseFromString(str,"text/html"))).catch((err=>null));return dom?(elems.push(...dom.querySelectorAll(".post")),posts=elems.map((post=>({title:post.querySelector(".post__title").textContent,author:"Darknet Diaries",url:"https://darknetdiaries.com"+post.querySelector(".post__title>a").pathname,id:post.querySelector(".post__title>a").pathname.split("/")[2],dt:null,image:"https://darknetdiaries.com"+post.querySelector(".post__image").style.backgroundImage.slice(5,-2),page:"/discover/darknet-diaries/"+post.querySelector(".post__title>a").pathname.split("/")[2]}))),posts):posts},get_post:async function(id,request=null,args=null){return await fetch(`https://darknetdiaries.com/episode/${id}`).then((res=>res.text())).then((str=>(new window.DOMParser).parseFromString(str,"text/html"))).then((dom=>({author:"Jack Rhysider",title:dom.head.querySelector("meta[property='og:title']").content,url:dom.head.querySelector("meta[property='og:url']").content,id:id,dt:null,image:"/images/bitmap_dark.png",page:"/discover/darknet-diaries/"+id}))).catch((err=>null))}});